{"ast":null,"code":"import _classCallCheck from\"/Users/Richrad/Documents/anzhinewstudents/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Richrad/Documents/anzhinewstudents/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Richrad/Documents/anzhinewstudents/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Richrad/Documents/anzhinewstudents/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Richrad/Documents/anzhinewstudents/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";export var Autocomplete=/*#__PURE__*/function(_Component){_inherits(Autocomplete,_Component);function Autocomplete(props){var _this;_classCallCheck(this,Autocomplete);_this=_possibleConstructorReturn(this,_getPrototypeOf(Autocomplete).call(this,props));//console.log(this.props.name+\"props major name\");\n_this.onChange=function(e){var suggestions=_this.props.suggestions;var userInput=e.currentTarget.value;var filteredSuggestions=suggestions.filter(function(suggestion){suggestion.toLowerCase().indexOf(userInput.toLowerCase())>-1;console.log(\"userinput\"+userInput);console.log(\"suggestion\"+suggestion);});_this.setState({activeSuggestion:0,filteredSuggestions:filteredSuggestions,showSuggestions:true,userInput:e.currentTarget.value});};_this.onClick=function(e){_this.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:false,userInput:e.currentTarget.innerText});};_this.onKeyDown=function(e){var _this$state=_this.state,activeSuggestion=_this$state.activeSuggestion,filteredSuggestions=_this$state.filteredSuggestions;if(e.keyCode===13){_this.setState({activeSuggestion:0,showSuggestions:false,userInput:filteredSuggestions[activeSuggestion]});}else if(e.keyCode===38){if(activeSuggestion===0){return;}_this.setState({activeSuggestion:activeSuggestion-1});}else if(e.keyCode===40){if(activeSuggestion-1===filteredSuggestions.length){return;}_this.setState({activeSuggestion:activeSuggestion+1});}};_this.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:false,userInput:\"\"};return _this;}_createClass(Autocomplete,[{key:\"render\",value:function render(){var onChange=this.onChange,onClick=this.onClick,onKeyDown=this.onKeyDown,_this$state2=this.state,activeSuggestion=_this$state2.activeSuggestion,filteredSuggestions=_this$state2.filteredSuggestions,showSuggestions=_this$state2.showSuggestions,userInput=_this$state2.userInput;var suggestionsListComponent;if(showSuggestions&&userInput){if(filteredSuggestions.length){suggestionsListComponent=React.createElement(\"ul\",{className:\"suggestions\"},filteredSuggestions.map(function(suggestion,index){var className;if(index===activeSuggestion){className=\"\";//console.log(this.state.userInput+\"   hooo ya\");\n}return React.createElement(\"li\",{key:suggestion,onClick:onClick},suggestion);}));}else{suggestionsListComponent=React.createElement(\"div\",{className:\"no-suggestions\"},React.createElement(\"em\",null,\"please press the Load button then delete and re-enter university name\"));}}return React.createElement(React.Fragment,null,React.createElement(\"input\",{type:\"search\",name:\"majorname\",size:\"34\",onChange:onChange,onKeyDown:onKeyDown,value:userInput}),suggestionsListComponent);}}]);return Autocomplete;}(Component);Autocomplete.defaultProperty={suggestions:[]};export default Autocomplete;","map":{"version":3,"sources":["/Users/Richrad/Documents/anzhinewstudents/client/src/Autocomplete.js"],"names":["React","Component","Autocomplete","props","onChange","e","suggestions","userInput","currentTarget","value","filteredSuggestions","filter","suggestion","toLowerCase","indexOf","console","log","setState","activeSuggestion","showSuggestions","onClick","innerText","onKeyDown","state","keyCode","length","suggestionsListComponent","map","index","className","defaultProperty"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nexport class Autocomplete extends Component {\n    static propTypes = {\n        suggestions: PropTypes.instanceOf(Array)\n    };\n    static defaultProperty = {\n        suggestions: []\n    };\n    constructor(props) {\n        super(props);\n        //console.log(this.props.name+\"props major name\");\n\n        this.state = {\n            activeSuggestion: 0,\n            filteredSuggestions: [],\n            showSuggestions: false,\n            userInput: \"\"\n        };\n    }\n\n    onChange = e => {\n\n        const { suggestions } = this.props;\n        const userInput = e.currentTarget.value;\n\n        const filteredSuggestions = suggestions.filter(\n            (suggestion) => {suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1;\n            console.log(\"userinput\"+userInput);console.log(\"suggestion\"+suggestion);}\n        );\n\n        this.setState({\n            activeSuggestion: 0,\n            filteredSuggestions,\n            showSuggestions: true,\n            userInput: e.currentTarget.value\n        });\n    };\n\n    onClick = e => {\n\n        this.setState({\n            activeSuggestion: 0,\n            filteredSuggestions: [],\n            showSuggestions: false,\n            userInput: e.currentTarget.innerText\n        });\n    };\n    onKeyDown = e => {\n\n        const { activeSuggestion, filteredSuggestions } = this.state;\n\n        if (e.keyCode === 13) {\n            this.setState({\n                activeSuggestion: 0,\n                showSuggestions: false,\n                userInput: filteredSuggestions[activeSuggestion]\n            });\n        } else if (e.keyCode === 38) {\n            if (activeSuggestion === 0) {\n                return;\n            }\n\n            this.setState({ activeSuggestion: activeSuggestion - 1 });\n        } else if (e.keyCode === 40) {\n            if (activeSuggestion - 1 === filteredSuggestions.length) {\n                return;\n            }\n\n            this.setState({ activeSuggestion: activeSuggestion + 1 });\n        }\n    };\n\n    render() {\n        const {\n            onChange,\n            onClick,\n            onKeyDown,\n            state: {\n                activeSuggestion,\n                filteredSuggestions,\n                showSuggestions,\n                userInput\n            }\n        } = this;\n        let suggestionsListComponent;\n        if (showSuggestions && userInput) {\n            if (filteredSuggestions.length) {\n                suggestionsListComponent = (\n                    <ul className=\"suggestions\">\n                        {filteredSuggestions.map((suggestion, index) => {\n                            let className;\n\n                            if (index === activeSuggestion) {\n                                className = \"\";\n                                //console.log(this.state.userInput+\"   hooo ya\");\n                            }\n\n                            return (\n                                <li key={suggestion} onClick={onClick}>\n                                    {suggestion}\n                                </li>\n                            );\n                        })}\n                    </ul>\n                );\n            } else {\n                suggestionsListComponent = (\n                    <div className=\"no-suggestions\">\n                        <em>please press the Load button then delete and re-enter university name</em>\n                    </div>\n                );\n            }\n        }\n\n        return (\n            <React.Fragment>\n                <input\n                    type=\"search\"\n                    name=\"majorname\"\n                    size = '34'\n                    onChange={onChange}\n                    onKeyDown={onKeyDown}\n                    value={userInput}\n                />\n                {suggestionsListComponent}\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default Autocomplete;\n"]},"metadata":{},"sourceType":"module"}